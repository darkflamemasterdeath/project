<template>
    <div class="wrap">
        <div class="top">
            <div class="hosname">{{ workData.baseMap?.hosname }}</div>
            <div class="line"></div>
            <div>{{ workData.baseMap?.bigname }}</div>
            <div class="dot">.</div>
            <div class="hosdeparment">{{ workData.baseMap?.depname }}</div>
        </div>
        <div class="center">
            <h2>{{ workData.baseMap?.workDateString }}</h2>
            <div class="container">
                <div @click="changeTime(item)" class="item"
                    :class="{ active: item.status == -1 || item.availableNumber == -1, cur: item.workDate == workTime.workDate }"
                    v-for="(item, index) in workData.bookingScheduleList" :key="index">
                    <div class="top1">{{ item.workDate }}-{{ item.dayOfWeek }}</div>
                    <div class="bottom">
                        <div v-if="item.status == -1">停止挂号</div>
                        <div v-if="item.status == 0">
                            {{ item.availableNumber == -1 ? '约满了' : `有号(${item.availableNumber})` }}</div>
                        <div v-if="item.status == 1">即将放号</div>
                    </div>
                </div>
            </div>
            <el-pagination v-model:current-page="pageNo" @current-change="getdatalist" layout="prev, pager, next"
                :total="workData.total" />
        </div>
        <!-- 底部展示医生结构 -->
        <div class="bottom">
            <!-- 展示放号时间 -->
            <div class="will" v-if="workTime.status == 1">
                <span class="time">2023年两点半</span>
                <span class="willtest">放号</span>
            </div>
            <!-- 展示医生的结构 -->
            <div class="doctor">
                <div class="moring">
                    <div class="tip">
                        <svg t="1692497816307" class="icon" viewBox="0 0 1057 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="5158" width="32" height="32">
                            <path
                                d="M10.410687 3.409702l-6.940458 7.243094q0.625448 8.836978-1.89652 16.080073 4.721125 14.506364 1.89652 28.689916 5.992198 10.087875 5.366749 21.749458 8.191354 12.287032 8.836978 24.896875l5.366749 3.793041 0 5.366749 5.366749 12.287032q6.940458 6.940458 9.139615 12.609844l1.573708 3.793041 1.89652 3.470229q17.976593 33.411041 39.403239 52.013083 13.235292 21.749458 30.586437 34.056665 0.322812 17.653781-5.366749 30.586437-30.263625-16.402885-46.666509 10.713323-1.89652 36.578634 21.446822 59.276353l0 5.366749q-5.992198 23.968791-3.470229 42.873468l3.470229 7.243094q2.521969 16.705521 1.89652 28.689916 5.992198 10.087875 3.470229 19.852938l3.793041 1.573708q2.844781 7.243094 1.573708 14.506364 11.358947 18.602041 12.609844 35.93301l5.366749 1.573708 1.89652 5.366749q6.31501 8.836978 7.243094 16.080073 15.454624 15.131812 21.446822 30.586437l5.366749 1.89652 1.89652 5.366749 7.243094 3.470229 1.573708 3.793041 12.609844 10.713323 8.836978 10.713323q21.12401 11.036135 32.462781 25.219687 14.809 4.095677 25.219687 12.287032l6.940458 5.366749 7.243094 0q5.992198 3.470229 10.713323 3.793041 22.374906 12.932656 43.19628 14.183552l3.470229 5.366749q13.880916 0 23.323167 3.793041l12.609844 0 5.366749 3.470229 5.366749 1.89652 35.93301 0q2.844781 1.89652 3.470229 3.470229 16.705521-1.271072 28.689916 0 12.287032 10.410687 16.080073 23.323167l9.139615 7.243094 3.470229 8.836978q26.793396 34.682114 30.586437 68.415967l7.243094 3.470229 0 8.836978 3.470229 1.89652 0 10.713323q9.765063 13.558104 8.836978 26.793396 11.661583 14.506364 9.139615 30.586437 7.243094 5.992198 10.713323 12.609844l-1.89652 8.836978 3.793041 3.793041 3.470229 17.976593 3.793041 1.573708 1.573708 3.793041q3.147417 17.028333 9.139615 28.689916l0 10.713323q4.418489 8.514166 5.366749 19.550301l3.470229 5.669386q-0.322812 9.765063 3.470229 16.080073l5.669386 42.873468 6.940458 7.243094 10.713323-1.89652q11.661583-9.765063 23.323167-14.183552l0-5.366749 9.139615-3.793041 3.470229-10.713323q21.12401-14.809 27.116208-35.93301 14.809-15.454624 21.446822-30.263625l1.573708-3.793041q7.565906-13.235292 14.506364-21.446822l3.470229-16.080073 5.366749-3.470229q1.89652-9.765063 7.243094-17.976593l1.89652-10.713323 3.470229-1.89652q4.095677-17.330969 10.713323-28.689916 3.147417-14.183552 9.139615-23.323167 0-8.836978 1.89652-14.506364l12.287032 0 0 5.366749 12.609844 9.139615q3.470229 8.836978 10.713323 12.609844l3.793041 1.573708-1.89652 3.793041q9.765063 5.669386 14.183552 14.183552l5.669386 5.366749 5.366749 3.793041 3.470229 6.940458 3.470229 3.793041 5.366749 1.89652 0 5.366749 3.793041 1.573708 23.323167 27.116208 1.573708 6.940458q12.932656 11.984395 17.976593 25.219687 17.028333 16.402885 23.323167 35.93301 6.940458 3.470229 14.506364 1.573708 3.147417-13.235292 7.243094-21.446822 7.565906-30.889073 19.550301-48.240218l-3.470229-7.243094 3.470229-16.080073q-1.573708-19.852938 5.366749-34.056665l0-45.072625 3.793041-6.940458 0-66.519447q-3.147417-5.366749-3.793041-10.713323l0-42.873468-3.470229-17.976593q-3.793041-17.653781-1.89652-30.586437l0-7.243094q-3.793041-10.713323-3.470229-19.550301l5.366749 0 3.470229 1.573708 3.793041 3.793041 5.366749 0q6.940458 4.721125 10.713323 8.836978 17.330969 6.617646 26.793396 17.976593 8.836978 2.199157 14.506364 8.836978 19.550301 9.765063 30.263625 23.323167 23.02053 10.410687 35.93301 27.116208l12.609844 0 5.366749-12.609844 0-59.276353q-2.844781-2.199157-3.470229-5.366749l-1.89652-3.470229q0-10.410687 1.89652-17.976593-6.31501-19.852938-5.366749-35.93301l-5.669386-7.243094 0-17.976593q-4.095677-10.087875-3.470229-19.550301l-3.470229-7.243094-5.366749-30.586437q-7.888718-17.330969-9.139615-34.056665-8.514166-15.131812-8.836978-30.263625l-5.366749-3.793041 0-5.366749q-10.713323-19.852938-12.609844-35.93301l-5.366749-3.470229 0-5.366749-5.366749-3.470229-3.793041-14.506364-5.366749-3.470229 0-7.243094q-11.358947-9.139615-12.609844-21.446822-10.713323-11.036135-14.183552-23.323167l-7.243094-3.793041-1.573708-6.940458q-3.147417-2.521969-3.793041-5.366749l-7.243094-5.366749-3.470229-9.139615q-15.454624-13.558104-21.446822-28.689916-21.12401-13.880916-32.462781-32.160145-12.609844-7.243094-17.976593-17.976593-13.558104-5.669386-23.02053-14.506364 21.446822-32.462781 16.080073-68.093155-18.602041-4.418489-32.462781-3.470229l-5.366749 3.470229-19.550301 0q-12.932656 6.31501-25.219687 5.366749l-3.470229 3.793041-12.609844 0q-19.227489 5.992198-34.056665 5.366749l-16.080073-9.139615q-7.565906-2.199157-12.609844-5.366749l-5.366749 0-5.366749-1.89652q-17.330969-3.470229-28.689916-10.713323-14.809 1.271072-23.323167-5.366749-29.940813-0.322812-50.439374-8.836978l-5.366749 1.89652-5.366749 0-5.366749-1.89652-69.989676 0q-10.087875-2.844781-17.976593-1.89652-29.315364-35.93301-71.563384-28.689916-5.366749 3.147417-10.713323 3.793041-11.036135 7.243094-19.852938 10.713323-1.89652 3.147417-3.470229 3.470229l-28.689916 26.793396-14.506364 0q-1.573708 3.147417-3.470229 3.793041l-12.609844 0q-20.498562 11.358947-41.29976 12.609844 0-26.793396-30.586437-21.749458l-5.366749 3.793041q-8.836978 5.366749-16.080073 6.940458-18.279229 19.852938-37.506719 27.116208l-5.366749-5.366749-5.366749 0q-12.609844-9.765063-23.323167-12.609844-14.506364-9.765063-25.219687-14.506364l-5.366749-5.366749-5.366749-1.573708q-6.617646-7.565906-14.506364-11.036135l-10.713323-6.940458q-17.028333-16.402885-30.263625-23.323167-13.235292-6.31501-23.323167-7.243094zM788.750759 111.208732q-10.713323 40.976948-40.976948 64.32029-13.558104 20.498562-28.689916 30.586437-11.358947 17.976593-25.219687 26.793396-18.602041 27.418844-43.19628 41.29976l-1.573708-5.366749-5.366749-17.976593-7.243094-26.793396q-5.992198-6.940458-9.139615-14.183552l-3.470229-12.609844q-17.028333-17.653781-21.446822-35.93301l8.836978-1.89652 28.689916-8.836978 10.713323-1.89652 5.366749-3.470229 5.366749 0q12.609844-5.992198 21.749458-7.243094 17.653781-6.940458 30.263625-8.836978 7.243094-4.418489 14.506364-5.669386 12.287032-4.418489 21.446822-5.366749 12.932656-6.31501 23.323167-8.836978zM394.375379 118.14919l1.89652 3.793041 8.836978 21.446822 1.89652 17.976593 1.573708 3.470229 0 5.366749q2.199157 2.844781 1.89652 5.366749l3.470229 14.506364q7.565906 15.131812 9.139615 26.793396 2.844781 2.521969 3.470229 5.366749 8.191354 11.358947 10.713323 21.749458 11.984395 10.713323 16.402885 23.323167-32.462781-5.669386-45.072625 48.240218l0 5.366749-3.470229 3.793041q0 10.410687-1.89652 17.653781-4.721125 23.645979-3.470229 39.726051-38.777791-5.669386-64.622926-28.689916l-5.366749-1.89652-39.403239-28.689916-7.243094-3.470229-5.366749-3.793041q-31.837333-13.235292-53.909603-16.080073l0-7.243094q4.721125-10.087875 5.366749-19.550301 23.968791 0.322812 37.829531-14.506364l3.470229-5.366749 1.89652-5.366749 3.470229-5.366749 7.243094-12.609844 7.243094-10.713323q7.243094-21.749458 17.976593-34.056665 17.653781-46.343697 53.586791-71.886196 18.924853-0.322812 32.462781 5.366749zM204.279466 143.368877l-3.793041 30.586437 0 24.896875q4.418489 18.279229 3.793041 32.462781-27.418844 35.93301-25.219687 75.336249l-3.470229 3.470229-3.793041-1.89652-5.366749-1.573708-3.470229-3.793041-5.366749-1.573708-3.470229-5.366749-3.793041-1.89652q-8.836978-4.721125-14.183552-10.713323-11.358947-4.721125-17.976593-12.609844 14.506364-83.547779 75.336249-129.245853zM460.572014 272.61473l5.366749 5.366749q2.844781 2.199157 3.793041 5.366749l5.366749 3.470229 7.243094 10.713323q18.924853 11.358947 28.689916 25.219687-0.322812 44.769989-59.276353 44.769989 17.330969-50.439374 7.243094-94.886551l1.573708 0zM136.18631 308.245104l-16.402885-8.836978q-9.462427-8.836978-5.366749-17.976593 50.116562 18.279229 21.749458 26.793396zM200.5066 295.958072l0-12.609844q9.462427 6.31501 0 12.609844zM315.568901 351.441384q22.374906 10.087875 34.056665 21.446822l5.366749 1.89652q24.594239 11.358947 41.29976 16.080073l14.183552 0 28.689916-3.470229q89.539977-50.762186 147.222446 3.470229 32.160145 71.886196-3.793041 134.612602-41.29976 90.165425-132.716081 107.496394-43.19628 11.984395-82.276707 1.89652-38.152343 1.89652-66.519447-12.609844-125.150175-34.682114-177.48607-139.979351-36.88127-70.937936-32.462781-143.429405l7.243094-1.89652q54.535051 40.976948 113.16578 21.749458 2.199157-9.139615 1.573708-16.402885-15.454624-11.036135-23.323167-24.896875 9.462427-6.31501 17.976593-9.139615 65.248375 2.844781 107.819206 43.19628zM435.675139 338.83154q-10.087875 34.98475-7.243094-1.89652zM299.166016 600.793474q4.721125 0.322812 7.243094 1.573708l14.506364 0q18.279229-4.418489 32.160145-3.470229 9.462427 2.199157 16.080073 1.89652l12.609844 3.470229 3.470229 1.89652 11.036135 0q29.940813 6.940458 52.013083 3.470229 27.741656-31.837333-27.116208-68.093155l-39.403239 0q-48.542854 15.454624-91.416322 0-23.02053 27.116208 8.836978 59.276353zM444.491942 597.020609l-8.836978 5.366749-17.976593 0q-13.558104-2.199157-23.323167-1.573708l-3.793041-1.89652-5.366749 0-34.056665-5.366749-3.470229-1.89652-5.366749 0-26.793396 3.793041q-30.586437-8.836978 10.713323-34.359302l10.713323-1.573708q4.418489-3.147417 8.836978-3.793041l41.29976-8.836978q59.276353-4.418489 57.379832 50.116562zM319.03913 555.72085q-40.976948 45.395437-26.793396-5.366749z"
                                fill="#444444" p-id="5159"></path>
                        </svg>
                        <span>上午号源</span>
                    </div>
                    <div class="doc_info" v-for="(doctor) in morningArr" :key="doctor.id">
                        <div class="left">
                            <div class="info">
                                <span>{{ doctor.title }}</span>
                                <span>|</span>
                                <span>{{ doctor.docname }}</span>
                            </div>
                            <div class="skill">{{ doctor.skill }}</div>
                        </div>
                        <div class="right">
                            <div class="money">￥{{ doctor.amount }}</div>
                            <el-button @click="gostep2(doctor)" type="primary">{{ doctor.availableNumber }}</el-button>

                        </div>
                    </div>
                </div>
                <div class="moring">
                    <div class="tip">
                        <svg t="1692497816307" class="icon" viewBox="0 0 1057 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="5158" width="32" height="32">
                            <path
                                d="M10.410687 3.409702l-6.940458 7.243094q0.625448 8.836978-1.89652 16.080073 4.721125 14.506364 1.89652 28.689916 5.992198 10.087875 5.366749 21.749458 8.191354 12.287032 8.836978 24.896875l5.366749 3.793041 0 5.366749 5.366749 12.287032q6.940458 6.940458 9.139615 12.609844l1.573708 3.793041 1.89652 3.470229q17.976593 33.411041 39.403239 52.013083 13.235292 21.749458 30.586437 34.056665 0.322812 17.653781-5.366749 30.586437-30.263625-16.402885-46.666509 10.713323-1.89652 36.578634 21.446822 59.276353l0 5.366749q-5.992198 23.968791-3.470229 42.873468l3.470229 7.243094q2.521969 16.705521 1.89652 28.689916 5.992198 10.087875 3.470229 19.852938l3.793041 1.573708q2.844781 7.243094 1.573708 14.506364 11.358947 18.602041 12.609844 35.93301l5.366749 1.573708 1.89652 5.366749q6.31501 8.836978 7.243094 16.080073 15.454624 15.131812 21.446822 30.586437l5.366749 1.89652 1.89652 5.366749 7.243094 3.470229 1.573708 3.793041 12.609844 10.713323 8.836978 10.713323q21.12401 11.036135 32.462781 25.219687 14.809 4.095677 25.219687 12.287032l6.940458 5.366749 7.243094 0q5.992198 3.470229 10.713323 3.793041 22.374906 12.932656 43.19628 14.183552l3.470229 5.366749q13.880916 0 23.323167 3.793041l12.609844 0 5.366749 3.470229 5.366749 1.89652 35.93301 0q2.844781 1.89652 3.470229 3.470229 16.705521-1.271072 28.689916 0 12.287032 10.410687 16.080073 23.323167l9.139615 7.243094 3.470229 8.836978q26.793396 34.682114 30.586437 68.415967l7.243094 3.470229 0 8.836978 3.470229 1.89652 0 10.713323q9.765063 13.558104 8.836978 26.793396 11.661583 14.506364 9.139615 30.586437 7.243094 5.992198 10.713323 12.609844l-1.89652 8.836978 3.793041 3.793041 3.470229 17.976593 3.793041 1.573708 1.573708 3.793041q3.147417 17.028333 9.139615 28.689916l0 10.713323q4.418489 8.514166 5.366749 19.550301l3.470229 5.669386q-0.322812 9.765063 3.470229 16.080073l5.669386 42.873468 6.940458 7.243094 10.713323-1.89652q11.661583-9.765063 23.323167-14.183552l0-5.366749 9.139615-3.793041 3.470229-10.713323q21.12401-14.809 27.116208-35.93301 14.809-15.454624 21.446822-30.263625l1.573708-3.793041q7.565906-13.235292 14.506364-21.446822l3.470229-16.080073 5.366749-3.470229q1.89652-9.765063 7.243094-17.976593l1.89652-10.713323 3.470229-1.89652q4.095677-17.330969 10.713323-28.689916 3.147417-14.183552 9.139615-23.323167 0-8.836978 1.89652-14.506364l12.287032 0 0 5.366749 12.609844 9.139615q3.470229 8.836978 10.713323 12.609844l3.793041 1.573708-1.89652 3.793041q9.765063 5.669386 14.183552 14.183552l5.669386 5.366749 5.366749 3.793041 3.470229 6.940458 3.470229 3.793041 5.366749 1.89652 0 5.366749 3.793041 1.573708 23.323167 27.116208 1.573708 6.940458q12.932656 11.984395 17.976593 25.219687 17.028333 16.402885 23.323167 35.93301 6.940458 3.470229 14.506364 1.573708 3.147417-13.235292 7.243094-21.446822 7.565906-30.889073 19.550301-48.240218l-3.470229-7.243094 3.470229-16.080073q-1.573708-19.852938 5.366749-34.056665l0-45.072625 3.793041-6.940458 0-66.519447q-3.147417-5.366749-3.793041-10.713323l0-42.873468-3.470229-17.976593q-3.793041-17.653781-1.89652-30.586437l0-7.243094q-3.793041-10.713323-3.470229-19.550301l5.366749 0 3.470229 1.573708 3.793041 3.793041 5.366749 0q6.940458 4.721125 10.713323 8.836978 17.330969 6.617646 26.793396 17.976593 8.836978 2.199157 14.506364 8.836978 19.550301 9.765063 30.263625 23.323167 23.02053 10.410687 35.93301 27.116208l12.609844 0 5.366749-12.609844 0-59.276353q-2.844781-2.199157-3.470229-5.366749l-1.89652-3.470229q0-10.410687 1.89652-17.976593-6.31501-19.852938-5.366749-35.93301l-5.669386-7.243094 0-17.976593q-4.095677-10.087875-3.470229-19.550301l-3.470229-7.243094-5.366749-30.586437q-7.888718-17.330969-9.139615-34.056665-8.514166-15.131812-8.836978-30.263625l-5.366749-3.793041 0-5.366749q-10.713323-19.852938-12.609844-35.93301l-5.366749-3.470229 0-5.366749-5.366749-3.470229-3.793041-14.506364-5.366749-3.470229 0-7.243094q-11.358947-9.139615-12.609844-21.446822-10.713323-11.036135-14.183552-23.323167l-7.243094-3.793041-1.573708-6.940458q-3.147417-2.521969-3.793041-5.366749l-7.243094-5.366749-3.470229-9.139615q-15.454624-13.558104-21.446822-28.689916-21.12401-13.880916-32.462781-32.160145-12.609844-7.243094-17.976593-17.976593-13.558104-5.669386-23.02053-14.506364 21.446822-32.462781 16.080073-68.093155-18.602041-4.418489-32.462781-3.470229l-5.366749 3.470229-19.550301 0q-12.932656 6.31501-25.219687 5.366749l-3.470229 3.793041-12.609844 0q-19.227489 5.992198-34.056665 5.366749l-16.080073-9.139615q-7.565906-2.199157-12.609844-5.366749l-5.366749 0-5.366749-1.89652q-17.330969-3.470229-28.689916-10.713323-14.809 1.271072-23.323167-5.366749-29.940813-0.322812-50.439374-8.836978l-5.366749 1.89652-5.366749 0-5.366749-1.89652-69.989676 0q-10.087875-2.844781-17.976593-1.89652-29.315364-35.93301-71.563384-28.689916-5.366749 3.147417-10.713323 3.793041-11.036135 7.243094-19.852938 10.713323-1.89652 3.147417-3.470229 3.470229l-28.689916 26.793396-14.506364 0q-1.573708 3.147417-3.470229 3.793041l-12.609844 0q-20.498562 11.358947-41.29976 12.609844 0-26.793396-30.586437-21.749458l-5.366749 3.793041q-8.836978 5.366749-16.080073 6.940458-18.279229 19.852938-37.506719 27.116208l-5.366749-5.366749-5.366749 0q-12.609844-9.765063-23.323167-12.609844-14.506364-9.765063-25.219687-14.506364l-5.366749-5.366749-5.366749-1.573708q-6.617646-7.565906-14.506364-11.036135l-10.713323-6.940458q-17.028333-16.402885-30.263625-23.323167-13.235292-6.31501-23.323167-7.243094zM788.750759 111.208732q-10.713323 40.976948-40.976948 64.32029-13.558104 20.498562-28.689916 30.586437-11.358947 17.976593-25.219687 26.793396-18.602041 27.418844-43.19628 41.29976l-1.573708-5.366749-5.366749-17.976593-7.243094-26.793396q-5.992198-6.940458-9.139615-14.183552l-3.470229-12.609844q-17.028333-17.653781-21.446822-35.93301l8.836978-1.89652 28.689916-8.836978 10.713323-1.89652 5.366749-3.470229 5.366749 0q12.609844-5.992198 21.749458-7.243094 17.653781-6.940458 30.263625-8.836978 7.243094-4.418489 14.506364-5.669386 12.287032-4.418489 21.446822-5.366749 12.932656-6.31501 23.323167-8.836978zM394.375379 118.14919l1.89652 3.793041 8.836978 21.446822 1.89652 17.976593 1.573708 3.470229 0 5.366749q2.199157 2.844781 1.89652 5.366749l3.470229 14.506364q7.565906 15.131812 9.139615 26.793396 2.844781 2.521969 3.470229 5.366749 8.191354 11.358947 10.713323 21.749458 11.984395 10.713323 16.402885 23.323167-32.462781-5.669386-45.072625 48.240218l0 5.366749-3.470229 3.793041q0 10.410687-1.89652 17.653781-4.721125 23.645979-3.470229 39.726051-38.777791-5.669386-64.622926-28.689916l-5.366749-1.89652-39.403239-28.689916-7.243094-3.470229-5.366749-3.793041q-31.837333-13.235292-53.909603-16.080073l0-7.243094q4.721125-10.087875 5.366749-19.550301 23.968791 0.322812 37.829531-14.506364l3.470229-5.366749 1.89652-5.366749 3.470229-5.366749 7.243094-12.609844 7.243094-10.713323q7.243094-21.749458 17.976593-34.056665 17.653781-46.343697 53.586791-71.886196 18.924853-0.322812 32.462781 5.366749zM204.279466 143.368877l-3.793041 30.586437 0 24.896875q4.418489 18.279229 3.793041 32.462781-27.418844 35.93301-25.219687 75.336249l-3.470229 3.470229-3.793041-1.89652-5.366749-1.573708-3.470229-3.793041-5.366749-1.573708-3.470229-5.366749-3.793041-1.89652q-8.836978-4.721125-14.183552-10.713323-11.358947-4.721125-17.976593-12.609844 14.506364-83.547779 75.336249-129.245853zM460.572014 272.61473l5.366749 5.366749q2.844781 2.199157 3.793041 5.366749l5.366749 3.470229 7.243094 10.713323q18.924853 11.358947 28.689916 25.219687-0.322812 44.769989-59.276353 44.769989 17.330969-50.439374 7.243094-94.886551l1.573708 0zM136.18631 308.245104l-16.402885-8.836978q-9.462427-8.836978-5.366749-17.976593 50.116562 18.279229 21.749458 26.793396zM200.5066 295.958072l0-12.609844q9.462427 6.31501 0 12.609844zM315.568901 351.441384q22.374906 10.087875 34.056665 21.446822l5.366749 1.89652q24.594239 11.358947 41.29976 16.080073l14.183552 0 28.689916-3.470229q89.539977-50.762186 147.222446 3.470229 32.160145 71.886196-3.793041 134.612602-41.29976 90.165425-132.716081 107.496394-43.19628 11.984395-82.276707 1.89652-38.152343 1.89652-66.519447-12.609844-125.150175-34.682114-177.48607-139.979351-36.88127-70.937936-32.462781-143.429405l7.243094-1.89652q54.535051 40.976948 113.16578 21.749458 2.199157-9.139615 1.573708-16.402885-15.454624-11.036135-23.323167-24.896875 9.462427-6.31501 17.976593-9.139615 65.248375 2.844781 107.819206 43.19628zM435.675139 338.83154q-10.087875 34.98475-7.243094-1.89652zM299.166016 600.793474q4.721125 0.322812 7.243094 1.573708l14.506364 0q18.279229-4.418489 32.160145-3.470229 9.462427 2.199157 16.080073 1.89652l12.609844 3.470229 3.470229 1.89652 11.036135 0q29.940813 6.940458 52.013083 3.470229 27.741656-31.837333-27.116208-68.093155l-39.403239 0q-48.542854 15.454624-91.416322 0-23.02053 27.116208 8.836978 59.276353zM444.491942 597.020609l-8.836978 5.366749-17.976593 0q-13.558104-2.199157-23.323167-1.573708l-3.793041-1.89652-5.366749 0-34.056665-5.366749-3.470229-1.89652-5.366749 0-26.793396 3.793041q-30.586437-8.836978 10.713323-34.359302l10.713323-1.573708q4.418489-3.147417 8.836978-3.793041l41.29976-8.836978q59.276353-4.418489 57.379832 50.116562zM319.03913 555.72085q-40.976948 45.395437-26.793396-5.366749z"
                                fill="#444444" p-id="5159"></path>
                        </svg>
                        <span>下午号源</span>
                    </div>
                    <div class="doc_info" v-for="(doctor) in afterArr" :key="doctor.id">
                        <div class="left">
                            <div class="info">
                                <span>{{ doctor.title }}</span>
                                <span>|</span>
                                <span>{{ doctor.docname }}</span>
                            </div>
                            <div class="skill">{{ doctor.skill }}</div>
                        </div>
                        <div class="right">
                            <div class="money">￥{{ doctor.amount }}</div>
                            <el-button @click="gostep2(doctor)" type="primary">{{ doctor.availableNumber }}</el-button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup lang="ts">
import { ref, onMounted, computed } from 'vue';
import { reqhospitallist, reqHospatalDoctor } from "@/api/hospital"
import { useRoute, useRouter } from 'vue-router';
import type { HospitalWork, DocArr, Doctor } from '@/api/hospital/type'
let pageNo = ref<number>(1)
let limit = ref<number>(6)
let $route = useRoute()
let $router = useRouter()
let workData = ref<any>({})
//存储排班信息
let workTime: any = ref({})
//医生的数据
let docArr = ref<DocArr>([])
onMounted(() => {
    //组件挂载完毕发起请求
    getdatalist()
})
const getdatalist = async () => {
    let result: HospitalWork = await reqhospitallist(pageNo.value, limit.value, $route.query.hoscode as string, $route.query.depcode as string)

    if (result.code == 200) {
        workData.value = result.data
        //存储第一天数据
        workTime.value = workData.value.bookingScheduleList[0]
    }
    getdoctor()
}
//获取某一天医生排版的信息
const getdoctor = async () => {
    let hoscode: string = $route.query.hoscode as string
    let depcode: string = $route.query.depcode as string
    //时间:sting
    let worddate: string = workTime.value.workDate
    let result = await reqHospatalDoctor(hoscode, depcode, worddate)

    if (result.code == 200) {
        docArr.value = result.data
    }
}
const changeTime = (item: any) => {
    workTime.value = item
    getdoctor()
}
//计算出上午医生属性
const morningArr = computed(() => {
    return docArr.value.filter((doc: Doctor) => {
        return doc.workTime == 0
    })
})
console.log('sahngwu ', morningArr)
const afterArr = computed(() => {
    return docArr.value.filter((doc: Doctor) => {
        return doc.workTime == 1
    })
})
const gostep2 = (doc: Doctor) => {
    // console.log('点i首页那个了', doc)
    $router.push({ path: '/hospital/register_step2', query: { docId: doc.id } })

}
</script>

<style lang="scss" scoped>
.wrap {
    .top {
        display: flex;
        color: #7f7f7f;

        .line {
            width: 2px;
            height: 20px;
            margin: 0 8px;
            background-color: #7f7f7f;
        }

        .dot {
            margin: 0 10px;
            color: skyblue;
        }
    }

    .center {
        margin: 10px 0;
        display: flex;
        flex-direction: column;
        align-items: center;

        h2 {
            font-weight: 900;
        }

        .container {
            width: 100%;
            display: flex;
            margin: 50px 0;

            .item {
                flex: 1;
                border: 1px solid #7f7f7f;
                margin: 0 5px;

                // width: 100px;
                // display: flex;
                // flex-direction: column;
                // align-items: center;
                &.active {
                    border: 1px solid #7f7f7f;
                    color: yellowgreen;

                    .top1 {
                        background-color: #ccc;
                    }
                }

                &.cur {
                    transform: scale(1.1);
                    transition: 0.5s;
                }

                .top1 {
                    width: 100%;
                    height: 30px;
                    text-align: center;
                    line-height: 30px;
                    background-color: skyblue;
                }

                .bottom {
                    width: 100%;
                    height: 50px;
                    text-align: center;
                    line-height: 60px;
                }
            }
        }
    }

    .bottom {
        .will {
            text-align: center;
            font-size: 30px;
            font-weight: 600;

            .time {
                color: red
            }

            .willtest {
                color: skyblue;
            }
        }

        .doctor {
            .moring {
                .tip {
                    display: flex;
                    align-items: center;

                    span {
                        color: #7f7f7f;
                        font-weight: 900;
                    }
                }

                .doc_info {
                    display: flex;
                    justify-content: space-between;
                    margin: 10px 0;
                    border-bottom: 1px solid #ccc;

                    .left {
                        .info {
                            color: skyblue;
                            margin: 10px 0;

                            span {
                                margin: 0 8px;
                                font-size: 18px;
                                font-weight: 800;
                            }


                        }

                        .skill {
                            margin: 10px 0;
                            color: #7f7f7f;
                        }
                    }

                    .right {
                        width: 150px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;

                        .money {
                            color: #7f7f7f;
                            font-weight: 600;
                        }
                    }
                }
            }
        }
    }
}
</style> 